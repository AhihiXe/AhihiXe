@using PagedList;
@using PagedList.Mvc;
@*@model IEnumerable<BookStore.Model.DataToObject.SachDTO>*@
@model PagedList.PagedList<BookStore.Models.DataToObject.BookDTO>

@{
    ViewBag.Title = "HomePageManager";
    Layout = "~/Views/Shared/_Layout_Manager.cshtml";
    String tenchude = (String)ViewData["TenChuDe"];
}

<div class="progressbar-heading grids-heading">
    <h2>Chủ đề @tenchude</h2>
</div>
<p>
    @*@Html.ActionLink("CreateNew", "Create")*@
    <a href="@Url.Action("BookCreate", "Manage")" itemprop="url" style="color:orangered; font-size:30">Create</a>
</p>



@*@(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)/@Model.PageCount*@
<div style="display:inline; float: right;">
    @Html.PagedListPager(Model, page => Url.Action("BookManager", new { page = page }))
</div>



<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.First().MaSach)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.First().TenSach)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.First().GiaSach)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.First().MoTaSach)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.First().TenTacGia)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.MaSach)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TenSach)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.GiaSach)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.MoTaSach)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TenTacGia)
            </td>
           
            <td>
                <a href="@Url.Action("BookUpdate", "Manage", new { @ID= item.MaSach})" itemprop="url">Chỉnh sửa</a> |
                <a href="@Url.Action("BookDetails", "Manage", new { @ID= item.MaSach})" itemprop="url">Chi tiết</a> |
                <a href="@Url.Action("BookDelete", "Manage", new { @ID= item.MaSach})" itemprop="url">Xóa</a>

            </td>
        </tr>
    }

</table>

<script type="text/javascript">
    function btn_book_delete() {
        var r = confirm("Xóa thông tin sách");
        if (r == true) {
            $(".book").click(function (e) {
                e.preventDefault();
                $.post("@Url.Action("BookDelete","BookController")", { id: $(this).data("id") }, function (data) {
                    alert(data);
                });
            });
        }
        else {

        }

    }
</script>

